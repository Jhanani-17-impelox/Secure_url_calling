```
# Asymmetric Cryptography for Encrypting and Decrypting MAC Addresses

```
This code file demonstrates asymmetric cryptography using RSA to securely encrypt and decrypt MAC addresses. The implementation includes a client-server model where the client encrypts a MAC address with a random salt using the server's public key, and the server decrypts it using its private key.

---

## Project Structure
- **asymmetric_cryptography_client.py**: The client-side script that encrypts MAC addresses and sends them to the server.
- **asymmetric_cryptography_server.py**: The server-side script that decrypts encrypted data received from the client.
- **private_key.py**: A script to generate RSA public and private keys.
- **public_key.pem**: The public key used for encryption (generated by `private_key.py`).
- **private_key.pem**: The private key used for decryption (generated by `private_key.py`).

---

## How It Works

### 1. Key Generation
- Run the `private_key.py` script to generate a 2048-bit RSA key pair.
- The keys are saved as `private_key.pem` and `public_key.pem`.

### 2. Client-Side (Encryption)
- The MAC address of the client machine is retrieved.
- A random 16-byte salt is generated.
- The MAC address is combined with the salt and encrypted using the server's public key (`public_key.pem`).
- The encrypted data is sent to the server via an HTTP POST request.

### 3. Server-Side (Decryption)
- The server receives the encrypted data via an API endpoint (`/decrypt-mac`).
- It decrypts the data using its private key (`private_key.pem`).
- The server extracts the salt and the MAC address from the decrypted data.
- The decrypted MAC address is returned as a JSON response.

---

## Setup and Execution

### Prerequisites
- Python 3.x
- Install the required Python libraries:
  ```bash
  pip install pycryptodome flask requests
  ```

### Step 1: Generate RSA Keys
Run the following command to generate the RSA key pair:
```
python private_key.py
```
This will create two files:
- `private_key.pem`: Used for decryption on the server.
- `public_key.pem`: Used for encryption on the client.

### Step 2: Start the Server
Run the server script:
```
python asymmetric_cryptography_server.py
```
The server will start listening on `http://127.0.0.1:5000`.

### Step 3: Run the Client
In another terminal, run the client script:
```
python asymmetric_cryptography_client.py
```
The client will:
1. Retrieve the MAC address.
2. Encrypt the MAC address with a salt.
3. Send the encrypted data to the server three times.
4. Print the server's responses.

---

## Example Output

### Client
```
[Client] Original MAC Address: 00:1a:2b:3c:4d:5e

[Client] Encrypted MAC Address 1: <encrypted_data_1>

[Client] Server Response 1: {'status': 'success', 'mac_address': '00:1a:2b:3c:4d:5e'}
```

### Server
```
[Server] Extracted Salt: <random_salt_1>
[Server] Decrypted MAC Address: 00:1a:2b:3c:4d:5e
```

---

## API Endpoint
### POST `/decrypt-mac`
- **Request Body**: 
  ```json
  {
    "encrypted_mac": "<base64_encoded_encrypted_data>"
  }
  ```
- **Response**:
  - On Success:
    ```json
    {
      "status": "success",
      "mac_address": "<decrypted_mac_address>"
    }
    ```
  - On Failure:
    ```json
    {
      "status": "error",
      "message": "Decryption failed"
    }
    ```

---

## Notes
- Always keep the private key (`private_key.pem`) secure.
- Ensure the client and server have the correct public and private keys, respectively.